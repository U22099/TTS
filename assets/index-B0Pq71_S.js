(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();function q(){const i=new Date,t=i.getHours(),e=t<13?t.toString().padStart(2,"0"):(t-12).toString().padStart(2,"0"),s=i.getMinutes().toString().padStart(2,"0"),n=i.getSeconds().toString().padStart(2,"0"),r=t<13?"AM":"PM";return{hour:e,min:s,sec:n,meridian:r}}function X(i,t){if(!i||!t)return!1;const{gender:e,lang:s,volume:n,rate:r,prevSpeech:c}=t,h=window.speechSynthesis||speechSynthesis,u=new SpeechSynthesisUtterance,d=j(e,s,h);d&&(u.voice=d),u.volume=n/100,u.rate=K(r),u.text=i;try{return c&&c.cancel(),h.speak(u),{speech:h,utterance:u}}catch(m){return console.log("Speech Synthesis failed with error: ",m),!1}}function j(i,t,e){return e.getVoices()?e.getVoices().filter(s=>s.gender===i&&s.lang===t||s.gender===i||s.lang===t||s.name.includes(i.toUpperCase()))[0]:!1}function K(i){switch(i){case"slow":return .5;case"mslow":return .8;case"medium":return 1;case"mfast":return 1.3;case"fast":return 1.5;case"vfast":return 2;default:return 1}}function $(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function z(i,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function J(i,t,e){return t&&z(i.prototype,t),i}var Q=Object.defineProperty,a=function(i,t){return Q(i,"name",{value:t,configurable:!0})},tt=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="m8.94 8 4.2-4.193a.67.67 0 0 0-.947-.947L8 7.06l-4.193-4.2a.67.67 0 1 0-.947.947L7.06 8l-4.2 4.193a.667.667 0 0 0 .217 1.093.666.666 0 0 0 .73-.146L8 8.94l4.193 4.2a.666.666 0 0 0 1.094-.217.665.665 0 0 0-.147-.73L8.94 8Z" fill="currentColor"/>
</svg>
`,et=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24A10.667 10.667 0 0 1 5.333 16a10.56 10.56 0 0 1 2.254-6.533l14.946 14.946A10.56 10.56 0 0 1 16 26.667Zm8.413-4.134L9.467 7.587A10.56 10.56 0 0 1 16 5.333 10.667 10.667 0 0 1 26.667 16a10.56 10.56 0 0 1-2.254 6.533Z" fill="currentColor"/>
</svg>
`,st=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M16 14.667A1.333 1.333 0 0 0 14.667 16v5.333a1.333 1.333 0 0 0 2.666 0V16A1.333 1.333 0 0 0 16 14.667Zm.507-5.227a1.333 1.333 0 0 0-1.014 0 1.334 1.334 0 0 0-.44.28 1.56 1.56 0 0 0-.28.44c-.075.158-.11.332-.106.507a1.332 1.332 0 0 0 .386.946c.13.118.279.213.44.28a1.334 1.334 0 0 0 1.84-1.226 1.4 1.4 0 0 0-.386-.947 1.334 1.334 0 0 0-.44-.28ZM16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24a10.666 10.666 0 1 1 0-21.333 10.666 10.666 0 0 1 0 21.333Z" fill="currentColor"/>
</svg>
`,it=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="m19.627 11.72-5.72 5.733-2.2-2.2a1.334 1.334 0 1 0-1.88 1.881l3.133 3.146a1.333 1.333 0 0 0 1.88 0l6.667-6.667a1.333 1.333 0 1 0-1.88-1.893ZM16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24a10.666 10.666 0 1 1 0-21.333 10.666 10.666 0 0 1 0 21.333Z" fill="currentColor"/>
</svg>
`,nt=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M16.334 17.667a1.334 1.334 0 0 0 1.334-1.333v-5.333a1.333 1.333 0 0 0-2.665 0v5.333a1.333 1.333 0 0 0 1.33 1.333Zm-.508 5.227c.325.134.69.134 1.014 0 .165-.064.314-.159.44-.28a1.56 1.56 0 0 0 .28-.44c.076-.158.112-.332.107-.507a1.332 1.332 0 0 0-.387-.946 1.532 1.532 0 0 0-.44-.28 1.334 1.334 0 0 0-1.838 1.226 1.4 1.4 0 0 0 .385.947c.127.121.277.216.44.28Zm.508 6.773a13.333 13.333 0 1 0 0-26.667 13.333 13.333 0 0 0 0 26.667Zm0-24A10.667 10.667 0 1 1 16.54 27a10.667 10.667 0 0 1-.206-21.333Z" fill="currentColor"/>
</svg>
`,ot=a(function(i){return new DOMParser().parseFromString(i,"text/html").body.childNodes[0]},"stringToHTML"),f=a(function(i){var t=new DOMParser().parseFromString(i,"application/xml");return document.importNode(t.documentElement,!0).outerHTML},"getSvgNode"),o={CONTAINER:"sn-notifications-container",NOTIFY:"sn-notify",NOTIFY_CONTENT:"sn-notify-content",NOTIFY_ICON:"sn-notify-icon",NOTIFY_CLOSE:"sn-notify-close",NOTIFY_TITLE:"sn-notify-title",NOTIFY_TEXT:"sn-notify-text",IS_X_CENTER:"sn-is-x-center",IS_Y_CENTER:"sn-is-y-center",IS_CENTER:"sn-is-center",IS_LEFT:"sn-is-left",IS_RIGHT:"sn-is-right",IS_TOP:"sn-is-top",IS_BOTTOM:"sn-is-bottom",NOTIFY_OUTLINE:"sn-notify-outline",NOTIFY_FILLED:"sn-notify-filled",NOTIFY_ERROR:"sn-notify-error",NOTIFY_WARNING:"sn-notify-warning",NOTIFY_SUCCESS:"sn-notify-success",NOTIFY_INFO:"sn-notify-info",NOTIFY_FADE:"sn-notify-fade",NOTIFY_FADE_IN:"sn-notify-fade-in",NOTIFY_SLIDE:"sn-notify-slide",NOTIFY_SLIDE_IN:"sn-notify-slide-in",NOTIFY_AUTOCLOSE:"sn-notify-autoclose"},l={ERROR:"error",WARNING:"warning",SUCCESS:"success",INFO:"info"},F={OUTLINE:"outline",FILLED:"filled"},v={FADE:"fade",SLIDE:"slide"},p={CLOSE:f(tt),SUCCESS:f(it),ERROR:f(et),WARNING:f(nt),INFO:f(st)},C=a(function(i){i.wrapper.classList.add(o.NOTIFY_FADE),setTimeout(function(){i.wrapper.classList.add(o.NOTIFY_FADE_IN)},100)},"fadeIn"),_=a(function(i){i.wrapper.classList.remove(o.NOTIFY_FADE_IN),setTimeout(function(){i.wrapper.remove()},i.speed)},"fadeOut"),rt=a(function(i){i.wrapper.classList.add(o.NOTIFY_SLIDE),setTimeout(function(){i.wrapper.classList.add(o.NOTIFY_SLIDE_IN)},100)},"slideIn"),at=a(function(i){i.wrapper.classList.remove(o.NOTIFY_SLIDE_IN),setTimeout(function(){i.wrapper.remove()},i.speed)},"slideOut"),Y=function(){function i(t){var e=this;$(this,i),this.notifyOut=a(function(V){V(e)},"notifyOut");var s=t.notificationsGap,n=s===void 0?20:s,r=t.notificationsPadding,c=r===void 0?20:r,h=t.status,u=h===void 0?"success":h,d=t.effect,m=d===void 0?v.FADE:d,I=t.type,b=I===void 0?"outline":I,M=t.title,A=t.text,O=t.showIcon,x=O===void 0?!0:O,w=t.customIcon,k=w===void 0?"":w,T=t.customClass,G=T===void 0?"":T,N=t.speed,P=N===void 0?500:N,E=t.showCloseButton,W=E===void 0?!0:E,y=t.autoclose,B=y===void 0?!0:y,g=t.autotimeout,U=g===void 0?3e3:g,S=t.position,Z=S===void 0?"right top":S,L=t.customWrapper,H=L===void 0?"":L;if(this.customWrapper=H,this.status=u,this.title=M,this.text=A,this.showIcon=x,this.customIcon=k,this.customClass=G,this.speed=P,this.effect=m,this.showCloseButton=W,this.autoclose=B,this.autotimeout=U,this.notificationsGap=n,this.notificationsPadding=c,this.type=b,this.position=Z,!this.checkRequirements()){console.error("You must specify 'title' or 'text' at least.");return}this.setContainer(),this.setWrapper(),this.setPosition(),this.showIcon&&this.setIcon(),this.showCloseButton&&this.setCloseButton(),this.setContent(),this.container.prepend(this.wrapper),this.setEffect(),this.notifyIn(this.selectedNotifyInEffect),this.autoclose&&this.autoClose(),this.setObserver()}return J(i,[{key:"checkRequirements",value:function(){return!!(this.title||this.text)}},{key:"setContainer",value:function(){var e=document.querySelector(".".concat(o.CONTAINER));e?this.container=e:(this.container=document.createElement("div"),this.container.classList.add(o.CONTAINER),document.body.appendChild(this.container)),this.notificationsPadding&&this.container.style.setProperty("--sn-notifications-padding","".concat(this.notificationsPadding,"px")),this.notificationsGap&&this.container.style.setProperty("--sn-notifications-gap","".concat(this.notificationsGap,"px"))}},{key:"setPosition",value:function(){this.container.classList[this.position==="center"?"add":"remove"](o.IS_CENTER),this.container.classList[this.position.includes("left")?"add":"remove"](o.IS_LEFT),this.container.classList[this.position.includes("right")?"add":"remove"](o.IS_RIGHT),this.container.classList[this.position.includes("top")?"add":"remove"](o.IS_TOP),this.container.classList[this.position.includes("bottom")?"add":"remove"](o.IS_BOTTOM),this.container.classList[this.position.includes("x-center")?"add":"remove"](o.IS_X_CENTER),this.container.classList[this.position.includes("y-center")?"add":"remove"](o.IS_Y_CENTER)}},{key:"setCloseButton",value:function(){var e=this,s=document.createElement("div");s.classList.add(o.NOTIFY_CLOSE),s.innerHTML=p.CLOSE,this.wrapper.appendChild(s),s.addEventListener("click",function(){e.close()})}},{key:"setWrapper",value:function(){var e=this;switch(this.customWrapper?this.wrapper=ot(this.customWrapper):this.wrapper=document.createElement("div"),this.wrapper.style.setProperty("--sn-notify-transition-duration","".concat(this.speed,"ms")),this.wrapper.classList.add(o.NOTIFY),this.type){case F.OUTLINE:this.wrapper.classList.add(o.NOTIFY_OUTLINE);break;case F.FILLED:this.wrapper.classList.add(o.NOTIFY_FILLED);break;default:this.wrapper.classList.add(o.NOTIFY_OUTLINE)}switch(this.status){case l.SUCCESS:this.wrapper.classList.add(o.NOTIFY_SUCCESS);break;case l.ERROR:this.wrapper.classList.add(o.NOTIFY_ERROR);break;case l.WARNING:this.wrapper.classList.add(o.NOTIFY_WARNING);break;case l.INFO:this.wrapper.classList.add(o.NOTIFY_INFO);break}this.autoclose&&(this.wrapper.classList.add(o.NOTIFY_AUTOCLOSE),this.wrapper.style.setProperty("--sn-notify-autoclose-timeout","".concat(this.autotimeout+this.speed,"ms"))),this.customClass&&this.customClass.split(" ").forEach(function(s){e.wrapper.classList.add(s)})}},{key:"setContent",value:function(){var e=document.createElement("div");e.classList.add(o.NOTIFY_CONTENT);var s,n;this.title&&(s=document.createElement("div"),s.classList.add(o.NOTIFY_TITLE),s.textContent=this.title.trim(),this.showCloseButton||(s.style.paddingRight="0")),this.text&&(n=document.createElement("div"),n.classList.add(o.NOTIFY_TEXT),n.innerHTML=this.text.trim(),this.title||(n.style.marginTop="0")),this.wrapper.appendChild(e),this.title&&e.appendChild(s),this.text&&e.appendChild(n)}},{key:"setIcon",value:function(){var e=a(function(n){switch(n){case l.SUCCESS:return p.SUCCESS;case l.ERROR:return p.ERROR;case l.WARNING:return p.WARNING;case l.INFO:return p.INFO}},"computedIcon"),s=document.createElement("div");s.classList.add(o.NOTIFY_ICON),s.innerHTML=this.customIcon||e(this.status),(this.status||this.customIcon)&&this.wrapper.appendChild(s)}},{key:"setObserver",value:function(){var e=this,s=new IntersectionObserver(function(n){if(n[0].intersectionRatio<=0)e.close();else return},{threshold:0});setTimeout(function(){s.observe(e.wrapper)},this.speed)}},{key:"notifyIn",value:function(t){t(this)}},{key:"autoClose",value:function(){var e=this;setTimeout(function(){e.close()},this.autotimeout+this.speed)}},{key:"close",value:function(){this.notifyOut(this.selectedNotifyOutEffect)}},{key:"setEffect",value:function(){switch(this.effect){case v.FADE:this.selectedNotifyInEffect=C,this.selectedNotifyOutEffect=_;break;case v.SLIDE:this.selectedNotifyInEffect=rt,this.selectedNotifyOutEffect=at;break;default:this.selectedNotifyInEffect=C,this.selectedNotifyOutEffect=_}}}]),i}();a(Y,"Notify");var D=Y;globalThis.Notify=D;function R(i,t,e){new D({status:i,title:t,text:e,effect:"slide",speed:300,showIcon:!0,showCloseButton:!0,autoclose:!0,autotimeout:3e3,type:"outline",position:"top"})}class ct{constructor(){this.prevSpeech=null}runTime(){return q()}runSpeech(t,e={gender:"female",lang:"en-US",volume:80,rate:"medium",prevSpeech:this.prevSpeech}){t||R("error","Empty Input","Please input something");const s=X(t,e)||{prevSpeech:!1,utterance:!1};return this.prevSpeech=s.prevSpeech,s.prevSpeech===!1&&t?(R("error","Error","An error occured, please try again"),null):s.utterance}}function ut(i,t){var e,s;return t?(e=document.querySelector(`input[name="${i}"]:checked`))==null?void 0:e.value:(s=document.getElementById(i))==null?void 0:s.value}function lt(i,t){if(!i)return!1;const e=document.getElementById(i);return e?(e.innerHTML=t,!0):!1}function ht(i){return i?document.getElementById(i):!1}class dt{runGetFromDOM(t,e=!1){return ut(t,e)}runWriteToDOM(t,e){return lt(t,e)}runGetElement(t){return ht(t)}}class ft{constructor(t,e){this.model=t,this.view=e,this.btn=this.view.runGetElement("btn")}init(){setInterval(()=>{this.showTime()},1e3),this.btn.addEventListener("click",()=>this.run())}showTime(){const{hour:t,min:e,sec:s,meridian:n}=this.model.runTime();this.view.runWriteToDOM("hr",t),this.view.runWriteToDOM("m",e),this.view.runWriteToDOM("s",s),this.view.runWriteToDOM("md",n)}run(){const{text:t,options:e}=this.getElements(),s=this.model.runSpeech(t,e);this.streamText(s)}getElements(){const t=this.view.runGetFromDOM("input"),e=this.view.runGetFromDOM("gender",!0),s=this.view.runGetFromDOM("rate",!0),n=this.view.runGetFromDOM("lang"),r=this.view.runGetFromDOM("volume");return{text:t,options:{gender:e,lang:n,volume:r,rate:s}}}streamText(t){let e="";t.onboundary=s=>{e=t.text.substring(s.charIndex,s.charIndex+s.charLength),this.stream(e)},t.onend=s=>{e=t.text,this.stream(e)},this.view.runGetElement("output").scrollIntoView({behaviour:"smooth"})}stream(t){this.view.runWriteToDOM("output",t)}}const pt=new ct,mt=new dt,vt=new ft(pt,mt);vt.init();
